#To edit and compare internal_properties, use WINDEV integrated tools.
#Internal properties refer to the properties of controls in windows, reports, etc.
info :
 name : exemple_image
 major_version : 25
 minor_version : 0
 type : 2
 description : ""
 subtype : 0
window :
 name : exemple_image
 identifier : 0x2b72eaae00b2037a
 internal_properties : BQAAAAUAAABXeM7C9hPTV73BFh5r3nZ1CHUTYRBZ0pxqzMbj4kMVXt0yggr/gsX0R6Lbce7MJXY9LHnNK4lThcdbEMtp4ZUzgSezAfHyaO6q2G/7LBzT+xtxmSP9i4vdzTaEIyRi0SX9i4RUvKRRJ/T1jtlAQNMfa7+df8sADWFyuLh3gebwubbSvyIhm6uAdOe+Zszwl/fMGhf+7dtB/kXRJwsSxqz+45J6hntya63ivPHOsS7mGo/R2b06K8lyE2ysA35C5NHVGs8Pg1MKYps5ZQz+LKUS1IFC8nP1GLD1iEmA1r9lBMLJAHDyDRH3X/aWBrkRWNhi7VblRWb40KkLTAI2x43Khj6OxkKSC5ae1zyUAiPagVHP2N1edA9gVg61x3UVGOfkj3u3VfUcCb2NO5hgOfsj4cLfVPTx1/CR7PkzEe3ojLJBgzXS2LatMzdVbmb+e7fosJPZdZAO1u9J5ftTwnUMw4er6mXwtLjFnC28MNY/6tl2BpBjaMeJYWGyHJeNu85bgCqzNQGaQiBdm7HsuCOnEg+Xds7/AFZFx+BM0c5/O5Dyz81hHpIQ89bfr5UXBBJAQpb+dhjCdU6fzUpG4ovh4Qf16PIgEzOnl6fExsY65AqCaAlQQfY0xM9lqULNmPizwGS/cdvbQ2ZwDtllsSxmhEcDvlLdEgDjdxLIL6SVYdveor67atL5brY/MCSBJHKGPBQ4HyZZBRrTbEaUstUq+8uQ3/OrgMj5+AqSP7ZQlPGgcpW1G1wctg98anyJ7ACgQ8w+UP+zSpM792aF7jiJaWNPHjXCMHBjc1CP+YhRx7ismfCqXkm1MUWA9Y2ALRfvtVll8eVQSRLd95c3BqENVM+y6Wo9oxqVvQ==
 controls :
  -
    name : Image1
    identifier : 0x2b72eaeb0108f2cc
    internal_properties : BQAAAAUAAACvBMHrj5SCEo7InUSqTfKzw4tGeOQYPBc7SYzYYcGi0L8S4JX/sV+0bBqBlj0jNNuEKLQTPKr0UoQwKFL6Y9YupwtpeR7MU052I8SU+F9C6CNRhpu8ia1qBH8dfzX9VWgBkejucafp2CH9iiGJvlo4u6JNMxrWThSY6zIwaNKkm5EZ1jRgY/PiNkGKZs56YCA8tYMMzWmXQiCm4FotlON8ScTSVLX5umaLWWJ4ZfFE+PrGBtyZ0QPkjpjDDn7giPT/7+JjlqFhO6vS0WIzRHTpBS9z27CIkrAJKJ16EWfnd3qvIcI13PbadVf61vd5JcQUtjA9FmzSYsAiz/FKm2fRq4wbS1lQMfKqqsyMWPLz1AqKfuk2P2EDJGAffzRaquE/hCU0Ljko+T7mE0Pxbwqu/Pyn2angz40LjoW4TxojS7pP4v+NNK3hQPddiS047FjfjYNHmt6qpfVY2IH3vZGrcz9Nx0jZ3bsbZaH7MiFze+APQ0oLZW1ALThfB+EBDbynIKDN/ew7c5g0NMD4BzxKw2oX2RMcxBq8DXnPYhtHE7/0fSJEeuEEiNCfwyZnpwOQwxmjMT2w9Pxdj/SJJ1dp0FjyqDSCPihqpW3qWKkIAyAXBfpevi23d8W6NYuiF0sXJvWiY0IgfdR9WZVaS4yO5HUsES0VGSndSyg/bz8qej7MTPXmF12aOsi0AjX1klRqDGeKFaD9thqr3z/qZ0mO+hMOzHyQUNNTuTcMbXMKQG7Fl1X7SjUkL64ldwao7kJ5EmuTNPw6hN65NkYRViiD/RHXVUsp3grKMTTnnSa3/8k2dMu7B2zOS1i88f/WM+tVcxScv+Mrqiw72sFadqqjh1hy3dXZ4HkpZ0lTdjB65pfXQKtIQw==
    type : 8
    code_elements :
     type_code : 8
     p_codes : []
  -
    name : BTN_TEST
    identifier : 0x2b73e58d0154f9c7
    internal_properties : BQAAAAUAAABeO/2sO5XXXxx7lm7OTjpetHDpepmYinQZdpD6oKxSaB/xNZXp1sA4fs7KV1eL128Uck5nSHUsiyVChn0NRsOOaZXpd/j2lSCiqby4d4yQZmwLy2KD3eXm8wz3m99belS4MoUBkaiHpJFkWdwdboqbZZfP5LMr1Hqi3ghNyvfL0lQm3aRI85ule4jo07oAaF0Rk6Kmq+S4NE+hmgy9xfBPMRCWyyIRf2SStMYbRDHwQQlGo1SKAX37WDzc+X2ePO1T1Klmno5xnjRRsgH0WHTk25722MadcF2aQZnfB43iNwzgtjDtxWxG+sbgF5kOEKTebPKwJZKC/ybj0+Kn0riKGG8xl0fitzwkX0YCRoWrCjwm6BW+2q1ywwxdgVeIChfeedjd+Q2swh/nUSNo2T6qmTmOQoO5J3HlYMSzLBhMARdX3YnAtVNpt8Kl9Vz0c7MFRYAVnTkumXPK2RqLA5UiElPTKxV67UCULogbecX06XLfjdiszkcyVs0S6lr9vI4VkOnz5NgFq78Fp83AsdmOevB2eMV4WPbEWf0l5fBB1m5B6WHC5amrxJQXh7zetZIiH6fYUJi4M6z35Uhfl1eeotDsYWFVkjmsbldVFxV+aYLEinhOjkktdhOF6cCF1NdmfrbTrMHTFeEAHCv9246fe750ZD/Oc/FpREPLcDoBtvlhJr4ZyNb3sfrdaDh0TdhyuwGMbFp9aNicnO+Ds3a/xbiUkHGYxZE1dnbOROYbInmJOFM3c130nek9rz7KT9A=
    type : 4
    code_elements :
     type_code : 4
     p_codes :
      -
        internal_properties : BQAAAAUAAAAbMMdkJf4Ku9VCSHxejhCcU0PDd/QcgM8TXRqHX0oFyTZL/EQ7QCJuN/O5v5V4BLOh/T1RoFRT7wgMI+rx5JkU31Qxh6/qGE15Ny/I6hSW0Rf8REpSz70DEG/fEgNRJXye6WvSElYO3TIP71mgz4QhPqDHW3Qo6eLoc3WIz9mP17aI77IeTnn4Eyq/HtWnEJdTduHTt9Grt3vwQapLw91X73Rw/CwiJ8c5/6+ASKmNNf5B9sE=
        code : |1+
         
         // récupération de la bitmap pour le champ <Image1>
         hdc est un entier système
         hdc = dDébutDessin(Image1)
                 
         bmpSource est BitmapAvecPtr(hdc, Image1..Largeur, Image1..Hauteur)
         bmpDest   est BitmapAvecPtr(hdc, Image1..Largeur, Image1..Hauteur)
         
         // init avec l'image courante
         bmpSource.CopieVersMémoire()
         bmpDest.CopieVersMémoire()
         
         ChronoDébut()
         pour i = 1 a 200
         	// flouter l'image dans <bmpSource> vers <bmpDest>
         	_FlouteImage(bmpSource.pointeurSurPixel, bmpDest.pointeurSurPixel,  Image1..Largeur, Image1..Hauteur, bmpSource.largeur1Ligne)
         	
         	// copie vers le champ image
         	bmpDest.CopieVersEcran()
         	 // invalidation et maj graphique
         	API("User32", "InvalidateRect", Handle(Image1),0,0)
         	Multitâche(-1)
         	
         	// relancer le flous sur l'image floutée pour flouter plus fort
         	bmpSource.CopieVersMémoire()
         	
         fin
         trace("durée en ms : " + chronofin())
         
        type : 18
      -
        type : 161
        enabled : false
  -
    name : TEst_mult
    identifier : 0x2e1eac8100a87e13
    internal_properties : BQAAAAUAAABeoSVpoNx4rwiGM78g8mKIHKVVEPbJkVt175LboF2Azo9yhTIqYsnczwXJxhGr4dK/vPrVA7TZQI/4pJWq06DK13xKZIIEmZY1sP8e+ygxA3emuJ7qUfdIbJEy6eFwErEC9Qys0plozwuTt4uNTr9wdsIEdztzLsjt8fXIhbAr8GBjWFjbA3DHC2YZrzB1dEC0Se1sTWtid8EDbU29cLJ1xsz3Sx5D6+mdqYLwaXxW9iacVKslCgGcPWkJ7ZBNoIZfDRinhRdI8c/uhkJT7m+qQCWuDsi+uUfnCem0+65rtqufqfzsnKNWz50wKuRN8UN6ZkawSirzWBLvLMJK7nIBsQlqdVIWMsxICB+cwlveEzTLIDIAkL4zSEYA3N3OIDd+ZJqglEkxQK+cqWSQjfYmeR5Y4ZLT3IfT6+AoeACE4Tkyg+49zwjzRcufUNBET+vjmjjmzsGPSRvp2+19DeuyXkSxupRKRhJeEdpOXXVIH85W02GVGpSkjCRsI7Jx5Bif2d+GB3YGYTfafaT4deGIdGtEvYKov6CiCC0Qd4Dlzg1HEmc4KCUUV64SM4nljE9jZdTWwQ8yrkbnmAzCWJChgbKVaUmYUEyBBGyTRgpU8LMsJO8Y5bLjAAlaQZBakiHS37mVphmW6Gfj1rDPn3C3cl4RViFARO0XiaZO3/EUZzsihtf5qO3+MqjC8G4e8nu9bVQCVA2534IocMP6aqFL+A7E3JSJh/zW
    type : 4
    code_elements :
     type_code : 4
     p_codes :
      -
        code : |1-
         
         sCodeAssembleur est chaine
         sCodeAssembleur = fChargeTExte("C:\Users\Paul Albert\Source\myRepo\LibInt256\multiplicationModulo_sepc256k.asm")
         
         // compiler le coder assembleur vers une procédure WL
         procMult256x256Modulo est une procédure = compileAsmX86(sCodeAssembleur) 
         SI ErreurDétectée ALORS
         	Erreur()
         	RETOUR
         FIN
         
         nombreA est un buffer = Répète(caract(  5),32)
         nombreB est un buffer = Répète(caract(255),32)
         nombreResultat est un buffer = Répète(caract(0),32)
         
         // appel procédure WL qui exécute le code assembleur
         procMult256x256Modulo( procAssembeur, nombreA, nombreB , nombreResultat )
         trace(  BufferVersHexa( nombreResultat,SansRegroupement) )
        type : 18
      -
        type : 161
        enabled : false
  -
    name : TEst_rex
    identifier : 0x2e20147c0065a377
    internal_properties : BQAAAAUAAACecb/h2yJB1IgTTx7vsUkjPwskJrThsAbo/G7lgnDN2tYQH73lljh+hzC9d+U28UdoZfvs43JApoHzOabK2IJEi5QK2xsE8v0tpPT1kAP0wtO4s/5yCaIp8KwV2zH2myPFeOkCsxStwsJSQeJVV30Ijluo7NSHi9awk6mDE+Vhb5IlyNNDcqNclsldVrjFKhlUoNEMuvnrthFwA/SfgnFiQGHT/2fYT9MMBop1c3MJ1SjYyiIe/rGl9U7X7lvJ/NBZRF+F+etcYWO4B8awMRA/7N1TyMZ0FhK9WNuFOfaJv/mP3rFL8RHxoDJWA4koJc+kdTdG/g83s5fPfW1L6xKRTj6PLZXssqIZdOoj+24/0Km7qB0uw61z6nCLqL4yLP1n0ilisvXnkEdVvO6elakHeiZ35cCO5iPZ1j412pVhdtEhl3+/W/ev6uEyhZymZFbDYvVlZ8j27a7i87hdSbL3zCFPddyj4Eie/Ik0lZmGMVVQ5mvr9RXYzR8jx3rzCx5haLCKUd/rQGmBX8FBdRVObITQc7dZ5A9+Z+xkY3LAsYAcySdVU6NEapeRUXH85ua86lwuElsa/xLJG94o9Lc+3mo0jdCQMn/oRl1JENp3Vh0pVJyqUvu9aNpqltGTeCGSEISPU2kC8Yor8aiBCKKxiplseGhKKTKoH9myA3lBBWMjuiquUs5LRmNri6Yc/L+hrBTvUUay34LUaKUnIv6mX+4Rr8Dpf44=
    type : 4
    code_elements :
     type_code : 4
     p_codes :
      -
        code : |1+
         
         sCodeAssembleur est chaine
         sCodeAssembleur = "adcx r11,rcx"
         //sCodeAssembleur = "mov r11,rcx"
         
         // compiler le coder assembleur vers une procédure WL
         sCodeASM est buffer =  WDAssembleur.clAsm._sCompile( sCodeAssembleur )
         SI ErreurDétectée ALORS
         	Erreur()
         	RETOUR
         FIN
         trace(sCodeAssembleur)
         trace(BufferVersHexa( sCodeASM ))
         
        type : 18
      -
        type : 161
        enabled : false
 menu :
  name : _Menu
  identifier : 0x292573e513b5f221
  internal_properties : BQAAAAUAAABd4biPtdLQOwfUFiqrit8H4xfGqKyz9t6VLxCUnNZRQiLPVs82PZNE+UVdKRzjizyeuKyRur85gNMUfqplpmtNDnQWQla9zo+GH9+1EfUJ6w17Dn/egD/gv+Hhywk8c9unIdzEp7EHgaAqD28w7Agveg4u19PBcKGZtQ==
  options : []
 languages :
  - fr-FR
 popup_menus : []
 message_bar :
  internal_properties : BQAAAAUAAABqPQh6HC8RxAVkp2SqPYLuZrfVhd+1KX4lx22hIT8uqEpE6yP7Sbc2rmVqdmL816EWzXOkEe9ijOtYwchZKAfpy3B1cNqhpJgsnbUs
 code_elements :
  internal_properties : BQAAAAUAAAAmptIsq1J+rrZGQ/L59nC0xIqbcJPqClkxiaNywyyZc5KKWMCX4k4FaHoeywEk5gwP4+fRUIZ7IZCToUH0PSOm8uTP+vAXWprVuLwVNzEpsfN3
  type_code : 1
  p_codes :
   -
     code : |1-
      // Résumé : <indiquez ici ce que fait la procédure>
      // Syntaxe :
      // exemple_image ()
      //
      // Paramètres :
      //	Aucun
      // Valeur de retour :
      // 	Aucune
      //
      // Exemple :
      // Indiquez ici un exemple d'utilisation.
      //
      PROCEDURE MaFenêtre()
      
      procAssembeur est une procédure
   -
     code : |1+
      
      
     type : 34
   -
     code : |1+
      
      
     type : 2
   -
     code : |1+
      
      
     type : 40
   -
     code : |1+
      
      
     type : 234
   -
     code : |1+
      
      
     type : 165
   -
     code : |1+
      
      
     type : 177
   -
     code : |1+
      
      
     type : 180
   -
     type : 230
     enabled : false
  procedures :
   -
     name : _FlouteImage
     internal_properties : BQAAAAUAAAARQnVPkWNY1EQUftB9QW6mh3WIxqB4qlJWMh+07LlLKeLR+KvG/jUq1QrgFm8BQCjGrO1yAIZOgFcLCc8qjH8qFbu4HOZsTyAnEnVoB+RwnDBJx/MLa4lAgvweFwY2TN+NzIFjLaCcPivHFFiQnppuFiBtVNK5B9aHAaa3bvM62TVAyw27gFq8fZHCv1Xe376mPXqEsXHSxXxbuBhtbnKCQlQ0GGFn+UpB2vuhZndhdzeasHh/YXZtBPuU0Mm9iFFI+YzJptmfY2BccOOyeP352PzPjdmPaaSl4zb/QI3vyUkZTij2YeI83vuC79EJ4MSGM1dtw0SWgAQMybS0GKNYz3Rq1lZPvYe+sGyxjDk95C0v1M/OTytFcTrmQ9krXqUmc8TcrhnpET/bcc/Ynef8+ObW4xgbaC9Oap3HuBPzcg5HJTeueUEvwkYb+wvLu7ZLb1czzhgEWv0JHauNyJgcsKVmOAIoy/DkpFTagWGq5cv07MvOqZ4w0Z+AacaI0K02Q4f8zuuz7NG7tJjsJWDM/cNgGRQJjCEK5h5qrQbkkBX/cLfKnx+la9aqOp1Za6t7b2vPXcz6uop3rYuKMU8iIIrZWy1FdvyuM4oPpo2K4ibhaR/aByTKf15FtTg2tRwCqGJcknxcsQ8c4BzT11wQZ7NPfE+MqJVtYcHUINgd4crRRTasYy+xIPwnYARf0xzL4D9aLU3uj2nzMMHvdwCf+gTrdugfSlGbOYa0k4WUg6uK2l95Dg9dyP4+zOvfhExgXqTu4YYYcz8OEtDNUW5ejLquOTrWOxGw6oRZw5pwie58Sgi7Pi71OEvEIwPTXuL5GBQnX/2IYB7PiL25RnVQFkYhmKSiHJlF4v45jooSQgPDsYrad2SEDfwzyYIl
     procedure_id : 1978177969954699618
     type_code : 14
     code : |1+
      //
      PROCEDURE _FlouteImage( pPixelSource est un entier système, pPixelDest est un entier système, largeur entier, hauteur entier, larg1LigneEnOctet entier)
      
      // si on a déjà compilé
      si procAssembeur<>null
      	procAssembeur( pPixelSource, pPixelDest, largeur, hauteur, larg1LigneEnOctet ) 
      	retour
      FIN
      
      // code ASM a compiler
      sCodeAssembleur est chaine = [
      	;proto C:
      	; mult32*32_64( pbyte pPixelSource, pbyte pPixelDest, int32 l, int32 h, int32 larg1LigneEnOctet )
      	
      	; prologue
      	push        ebp
      	mov         ebp,esp
      	push 		edi
      	push 		ecx
      	push 		edx
      	push		ebx
      	push		esi
      	
      	; récupération des paramètres
      	mov			edi,[ebp+8]  ; pPixelSource
      	mov			esi,[ebp+12] ; pPixelDest
      	mov			edx,[ebp+20] ; edx = hauteur
      	; commencer à la ligne 1 a cause de la lecture de pixel a la ligne Y-1
      	dec			edx
      	dec			edx	; //  arreter au pixel-1
      
      	push esi
      	Push edi
      boucle_Y:
      	; calcul edi/di
      	mov edi,[ESP]	; Var locale 0
      	mov esi,[ESP+4] ; Var LOCALE 1
      	add edi,[ebp+24]
      	add esi,[ebp+24]
      	mov [ESP],   edi ; Var LOCALE 0
      	mov [ESP+4], esi ; Var LOCALE 1
      		
      	Add esi,3
      	Add edi,3
      
      	mov			ecx,[ebp+16] ; ecx = largeur
      	; commencer à la colonne 1 a cause de la lecture de pixel a la colonne X-1
      	dec	ecx		; commmencer au pixel X+1
      	dec	ecx		; arreter au pixel   X-1
      
      boucle_X:
      	; R
      	call FlouPixel
      	; V
      	call FlouPixel
      	; B
      	call FlouPixel
      	; x--		
      	dec ecx;
      	jnz boucle_X ; tant que x > 0 goto boucle_X
      	;y--
      	dec edx
      	jnz boucle_Y;   tant que y > 0 goto boucle_X
      	
      	;--------------------------	
      	; épilogue
      	Pop esi
      	Pop edi
      	
      	pop			esi
      	pop 		ebx
      	pop			edx
      	pop			ecx
      	pop 		edi
      	pop         ebp 
      	ret			20 ;  5 paramètres de 4 octets
      	
      FlouPixel:
      	; procédure FlouPixel()
      	; flouter un composante R/V ou B d'un pixel 24 bits.
      	;   source dans [edi], 
      	;   destination dans [esi]
      	push ecx
      	mov			ecx,[ebp+24] ; ecx = larg1LigneEnOctet
      	
      	xor	eax,eax	; eax= 0
      	xor	ebx,ebx	; ebx= 0
      	mov	al,[edi]
      	mov	bl,[edi+3]	; X+1
      	add eax,ebx
      	mov	bl,[edi+-3] ; X-1
      	add eax,ebx
      	mov	bl,[edi+ecx] ; Y+1
      	add eax,ebx ;
      	neg ecx
      	mov	bl,[edi+ecx] ; Y-11
      	Add eax,ebx ;	
      	
      	; eax = eax/8 => moyenne
      	mov	ecx,5
      	div al,cl
      	;  affecter la composant R,V ou B du pixel résultat
      	mov	[esi],al
      	; pixel suivant
      	inc edi
      	inc esi
      	
      	pop ecx
      	; fin de la procédure
      	ret
      ]
      
      // compiler le coder assembleur vers une procédure WL
      procAssembeur = compileAsmX86(sCodeAssembleur) 
      SI ErreurDétectée ALORS
      	Erreur()
      	RETOUR
      FIN
      
      // appel procédure WL qui exécute le code assembleur
      procAssembeur( pPixelSource, pPixelDest, largeur, hauteur, larg1LigneEnOctet )
      
     type : 458752
  procedure_templates : []
  property_templates : []
 code_parameters :
  internal_properties : BQAAAAUAAAAwjDLmDSZ0H1P68nJIeNfqR9EvRjU/K+sVcM1T6rhVNr+VTV1mZ/rmoweYbFDZUhBGcv8UsxlDxVCOnb2U/SQOvlGWzNby3/w/V+ppSymxv+Vh
  original_name : Modele1
resources :
 string_res :
  identifier : 0x1b72eaa30108d779
  internal_properties : BQAAAAUAAAAa2Zm8J9E/zh+/WIrVvz1fER/So3PB0gjQuxc1xKQVWY4ZDm5lfg==
custom_note :
 internal_properties : BQAAAAUAAAC68/W0/adbG0nFCRhrE42B5HRnbDzVHaz86sSQyxlBk7I=
rad :
 internal_properties : BQAAAAUAAABoAN7PLpwJW3EiA7WVZdCA5EwrCA1rvutcDHooMWKe
